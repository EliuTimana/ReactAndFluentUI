(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{177:function(e,t,n){},178:function(e,t,n){},283:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n(0),s=n.n(a),i=n(79),c=n.n(i),u=(n(177),n(178),n(88)),o=n(14),l=n(12),d=n.n(l),b=n(26),j=n(20),p=n(343),m=n(3),f=n(360),h=n(53),v=n(344),x=n(341),O=n(36),y=n.p+"static/media/logo.6ce24c58.svg",k=n(29),w=n(9),g=n(10),C=function(){function e(){Object(w.a)(this,e)}return Object(g.a)(e,null,[{key:"getAllUsers",value:function(){var e=this;return new Promise(function(){var t=Object(b.a)(d.a.mark((function t(n){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.delayOperation();case 2:r=localStorage.getItem("users"),n(r?JSON.parse(r):[]);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"getUser",value:function(){var e=Object(b.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delayOperation();case 2:return e.next=4,this.getAllUsers();case 4:return n=e.sent,r=n.find((function(e){return e.id===t})),e.abrupt("return",r||null);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(b.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delayOperation();case 2:return e.next=4,this.getAllUsers();case 4:n=e.sent,r=n.findIndex((function(e){return e.id===t.id})),n[r]=t,this.saveInLocal(n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveUser",value:function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delayOperation();case 2:return e.next=4,this.getAllUsers();case 4:n=e.sent,t.id=0===n.length?1:Math.max.apply(Math,Object(k.a)(n.map((function(e){return e.id}))))+1,n.push(t),this.saveInLocal(n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delayOperation();case 2:return e.next=4,this.getAllUsers();case 4:n=(n=e.sent).filter((function(e){return e.id!==t})),this.saveInLocal(n);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"saveInLocal",value:function(e){localStorage.setItem("users",JSON.stringify(e))}},{key:"delayOperation",value:function(){var e=Object(b.a)(d.a.mark((function e(){var t,n=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:1500,e.abrupt("return",new Promise((function(e){setTimeout((function(){e()}),t)})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),S=n(94),N=n(345),U=n(355),I=n(347),P=n(346),A=n(338),F=n(55),M=n(61),q=function(e){var t=e.userId,n=e.onClose,s=Object(a.useState)(null),i=Object(j.a)(s,2),c=(i[0],i[1]),u=Object(a.useState)(!0),o=Object(j.a)(u,2),l=o[0],p=o[1],m=Object(a.useState)(!0),h=Object(j.a)(m,2),v=h[0],x=h[1],O=Object(a.useRef)(),y=function(){var e=Object(b.a)(d.a.mark((function e(){var n,r,a,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!0),!t){e.next=10;break}return e.next=4,C.getUser(t);case 4:n=e.sent,c(n),O.current&&(null===(r=O.current)||void 0===r||r.setFieldValue("name",null===n||void 0===n?void 0:n.name),null===(a=O.current)||void 0===a||a.setFieldValue("email",null===n||void 0===n?void 0:n.email),null===(s=O.current)||void 0===s||s.setFieldValue("website",null===n||void 0===n?void 0:n.website),null===(i=O.current)||void 0===i||i.setFieldValue("phone",null===n||void 0===n?void 0:n.phone)),p(!1),e.next=12;break;case 10:c(null),p(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(b.a)(d.a.mark((function e(r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=6;break}return e.next=4,C.saveUser(Object(S.a)({},r));case 4:e.next=8;break;case 6:return e.next=8,C.updateUser(Object(S.a)(Object(S.a)({},r),{},{id:t}));case 8:x(!1),n(),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){y()}),[t]);var w=M.a().shape({name:M.b().required(),email:M.b().required().email(),website:M.b().required().url(),phone:M.b().required()});return Object(r.jsx)("div",{children:Object(r.jsxs)(N.a,{isOpen:v,scrollableContentClassName:"overflow-visible",children:[Object(r.jsxs)("div",{className:"d-flex justify-content-between p-3",children:[Object(r.jsx)("span",{className:"ms-font-xl-plus",children:null===t?"Create User":"Edit User"}),Object(r.jsx)(f.a,{iconProps:{iconName:"Cancel"},onClick:function(){return n()},disabled:l})]}),Object(r.jsx)("div",{className:"p-3",children:Object(r.jsx)(F.c,{innerRef:O,initialValues:{name:"",email:"",website:"",phone:""},validationSchema:w,onSubmit:function(){var e=Object(b.a)(d.a.mark((function e(t,n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,e.next=3,k(t);case 3:r(!1);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),children:function(e){var t=e.isSubmitting,n=e.errors;return Object(r.jsxs)(F.b,{noValidate:!0,children:[(l||t)&&Object(r.jsx)(U.a,{}),Object(r.jsxs)(I.a,{tokens:{childrenGap:15},children:[Object(r.jsx)(F.a,{disabled:t||l,name:"name",label:"Name",required:!0,errorMessage:n.name,as:P.a}),Object(r.jsx)(F.a,{disabled:t||l,name:"email",label:"Email",required:!0,type:"email",errorMessage:n.email,as:P.a}),Object(r.jsx)(F.a,{disabled:t||l,name:"website",label:"Website",required:!0,type:"url",errorMessage:n.website,as:P.a}),Object(r.jsx)(F.a,{disabled:t||l,name:"phone",label:"Phone",required:!0,type:"text",errorMessage:n.phone,as:P.a}),Object(r.jsx)(A.a,{text:"Save",type:"submit",disabled:t||l})]})]})}})})]})})},E=n(350),L=n(158),T=n(159),V=function(e){var t=e.dialogContentProps,n=e.onConfirm,a=e.onCancel,s=e.visible,i=e.loading,c=e.confirmButtonText,u=e.cancelButtonText;return Object(r.jsxs)(E.a,{dialogContentProps:t,isOpen:s,children:[i&&Object(r.jsx)(U.a,{}),Object(r.jsxs)(L.a,{children:[Object(r.jsx)(A.a,{disabled:i,onClick:function(){n&&n()},text:c||"Confirm"}),Object(r.jsx)(T.a,{disabled:i,onClick:function(){a&&a()},text:u||"Cancel"})]})]})},W=function(){var e=Object(a.useState)([]),t=Object(j.a)(e,2),n=t[0],s=t[1],i=Object(a.useState)(!1),c=Object(j.a)(i,2),u=c[0],o=c[1],l=Object(a.useState)(null),k=Object(j.a)(l,2),w=k[0],g=k[1],S=Object(a.useState)(!1),N=Object(j.a)(S,2),U=N[0],I=N[1],P=Object(a.useState)(!1),A=Object(j.a)(P,2),F=A[0],M=A[1],E=Object(a.useState)(!1),L=Object(j.a)(E,2),T=L[0],W=L[1],B=[{minWidth:200,key:"name",name:"Name",onRender:function(e){return Object(r.jsx)(p.a,{size:m.c.size24,text:null===e||void 0===e?void 0:e.name})}},{minWidth:200,key:"email",name:"Email",fieldName:"email"},{minWidth:200,key:"website",name:"Website",fieldName:"website"},{minWidth:200,key:"phone",name:"Phone",onRender:function(e){return null===e||void 0===e?void 0:e.phone}},{minWidth:100,key:"actions",name:"",onRender:function(e){return Object(r.jsx)(f.a,{menuIconProps:{iconName:"MoreVertical"},menuProps:{items:[{key:"edit",text:"Edit",onClick:function(){return R(null===e||void 0===e?void 0:e.id)}},{key:"delete",text:"Delete",onClick:function(){g(null===e||void 0===e?void 0:e.id),M(!0)}}]}})},className:"ms-textAlignCenter"}];Object(a.useEffect)((function(){G()}),[]);var G=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,C.getAllUsers();case 3:if(0!==(t=e.sent).length){e.next=12;break}return n={id:1,name:"Test",email:"test@test.com",companyId:1,phone:"988998895",website:"https://www.test.pe",avatar:y},e.next=8,C.saveUser(n);case 8:s([n]),o(!1),e.next=14;break;case 12:s(t),o(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;g(e),I(!0)},D=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,w){e.next=3;break}return e.abrupt("return");case 3:return W(!0),e.next=6,C.delete(w);case 6:W(!1),M(!1),G(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),J=[{key:"new",text:"New",iconProps:{iconName:"Add"},onClick:function(){R()}}],z={type:h.a.normal,title:"Delete?",closeButtonAriaLabel:"Close",subText:"Do you want to delete this user?"};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(v.a,{items:J}),Object(r.jsx)(x.a,{items:n,columns:B,selectionMode:O.b.none,enableShimmer:u}),U&&Object(r.jsx)(q,{userId:w,onClose:function(){return I(!1),void G()}}),Object(r.jsx)(V,{visible:F,dialogContentProps:z,loading:T,onCancel:function(){return M(!1)},onConfirm:D})]})},B=n(17),G=n(18),R=function(e){Object(B.a)(n,e);var t=Object(G.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(r.jsx)("h1",{children:"Home"})}}]),n}(s.a.Component),D=n(342),J=n(351),z=n(353);n(279);var H=function(){return Object(D.a)(),Object(r.jsx)(u.b,{children:Object(r.jsx)(J.a,{children:Object(r.jsx)("div",{className:"ms-Grid",dir:"ltr",children:Object(r.jsxs)("div",{className:"ms-Grid-row",children:[Object(r.jsx)("div",{className:"ms-Grid-col ms-sm6 ms-md4 ms-lg2",children:Object(r.jsx)(z.a,{groups:[{links:[{name:"Home",url:"#/",key:"home"},{name:"Users",url:"#/users",key:"users"}]}]})}),Object(r.jsx)("div",{className:"ms-Grid-col ms-sm6 ms-md8 ms-lg10",children:Object(r.jsxs)(o.c,{children:[Object(r.jsx)(o.a,{path:"/users",exact:!0,children:Object(r.jsx)(W,{})}),Object(r.jsx)(o.a,{path:"/",exact:!0,children:Object(r.jsx)(R,{})})]})})]})})})})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,362)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),s(e),i(e)}))};c.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(u.a,{children:Object(r.jsx)(H,{})})}),document.getElementById("root")),K()}},[[283,1,2]]]);
//# sourceMappingURL=main.9a6dacaf.chunk.js.map